{"ast":null,"code":"import { useQuery } from \"react-query\";\nimport { api } from \"../../services/api\";\nexport async function getUsers() {\n  const {\n    data\n  } = await api.get('users');\n  const users = data.users.map(user => {\n    return {\n      id: user.id,\n      name: user.name,\n      email: user.email,\n      createdAt: new Date(user.createdAt).toLocaleDateString('pt-BR', {\n        day: '2-digit',\n        month: 'long',\n        year: 'numeric'\n      })\n    };\n  });\n  return users;\n}\nexport function useUsers() {\n  return useQuery('users', getUsers, {\n    staleTime: 1000 * 5\n  });\n}","map":{"version":3,"sources":["/home/luan/Documentos/ignitemodulo4/src/services/hooks/useUsers.ts"],"names":["useQuery","api","getUsers","data","get","users","map","user","id","name","email","createdAt","Date","toLocaleDateString","day","month","year","useUsers","staleTime"],"mappings":"AAAA,SAASA,QAAT,QAAwB,aAAxB;AACA,SAASC,GAAT,QAAoB,oBAApB;AAUA,OAAO,eAAeC,QAAf,GAA0C;AAE7C,QAAM;AAACC,IAAAA;AAAD,MAAS,MAAMF,GAAG,CAACG,GAAJ,CAAQ,OAAR,CAArB;AAEI,QAAMC,KAAK,GAAGF,IAAI,CAACE,KAAL,CAAWC,GAAX,CAAeC,IAAI,IAAG;AAChC,WAAO;AACHC,MAAAA,EAAE,EAACD,IAAI,CAACC,EADL;AAEHC,MAAAA,IAAI,EAACF,IAAI,CAACE,IAFP;AAGHC,MAAAA,KAAK,EAACH,IAAI,CAACG,KAHR;AAIHC,MAAAA,SAAS,EAAC,IAAIC,IAAJ,CAASL,IAAI,CAACI,SAAd,EAAyBE,kBAAzB,CAA4C,OAA5C,EAAoD;AAC1DC,QAAAA,GAAG,EAAC,SADsD;AAE1DC,QAAAA,KAAK,EAAC,MAFoD;AAG1DC,QAAAA,IAAI,EAAC;AAHqD,OAApD;AAJP,KAAP;AAYH,GAba,CAAd;AAeA,SAAOX,KAAP;AAEH;AAED,OAAO,SAASY,QAAT,GAAqB;AACxB,SAAOjB,QAAQ,CAAE,OAAF,EAAUE,QAAV,EAAmB;AAClCgB,IAAAA,SAAS,EAAC,OAAK;AADmB,GAAnB,CAAf;AAIP","sourcesContent":["import { useQuery} from \"react-query\";\nimport { api } from \"../../services/api\";\n\n\ntype User = {\n    id:string;\n    name:string;\n    email:string;\n    createdAt:string;\n}\n\nexport async function getUsers():Promise<User[]> {\n\n    const {data} = await api.get('users')\n    \n        const users = data.users.map(user=> {\n            return {\n                id:user.id,\n                name:user.name,\n                email:user.email,\n                createdAt:new Date(user.createdAt).toLocaleDateString('pt-BR',{\n                    day:'2-digit',\n                    month:'long',\n                    year:'numeric',\n                })\n             \n            };\n\n        })\n       \n        return users;\n\n    }\n    \n    export function useUsers () {\n        return useQuery ('users',getUsers,{\n        staleTime:1000*5,\n    })\n  \n}\n"]},"metadata":{},"sourceType":"module"}